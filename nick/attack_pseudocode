CREATE FUNCTION `attack`(IN `row_id_attack` INT, IN `row_id_defend` INT, IN `attackers_sent` INT)
BEGIN
	IF attackers_sent>(select attackers from gamerows where id=row_id_attack) THEN
		RETURN errmsg();
	ELSEIF attackers_sent>(select defenders from gamerows where id=row_id_defend) THEN
		UPDATE gamerows
		SET defenders=defenders-attackers_sent
		WHERE id=row_id_defend;
UPDATE gamerows
SET
attackers=attackers-attackers_sent
WHERE
id=row_id_attack;
END
